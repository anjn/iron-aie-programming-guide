# Section 6 - Larger Example Designs

このセクションでは、Ryzen AIにおけるAI Engineの機能を実証する、ビジョンおよび機械学習実装に重点を置いた複雑なアプリケーション設計を紹介します。

## ビジョンカーネル

ガイドでは4つのビジョンパイプライン例を提示します：

### 1. Vision Passthrough（i8データ型）

「1つの`passThrough`カーネルのみを含むシンプルなパイプライン」で、グレースケール画像処理のためのデータ移動の検証に焦点を当てています。

### 2. Color Detect（i32）

RGBA画像内の色を識別するマルチカーネル実装。

### 3. Edge Detect（i32）

エッジ情報を検出し、ソース画像に重ね合わせるパイプライン。

### 4. Color Threshold（i32）

RGBAカラーしきい値処理演算のためのデータ並列アプローチ。

## 機械学習設計

2つの主要なML実装がハイライトされています：

### 1. Bottleneck

「それぞれ1x1、3x3、1x1のフィルタサイズを使用する3つの畳み込み」を特徴とする残差ブロックで、融合カーネル演算とデータフロー最適化戦略を使用します。

**主な特徴:**
- 残差接続（Residual connections）
- 融合演算（Fused operations）
- データフロー最適化

### 2. ResNet

「複数のNPU列にわたる深さ優先処理を使用した、オフロードされたconv2_x層を持つResNet」を実装します。

**主な特徴:**
- マルチコア並列処理
- 深さ優先スケジューリング
- 層間最適化

## 演習と学習ポイント

Bottleneck設計の理解をテストする3つの技術演習：

1. **融合最適化戦略**: カーネル融合の利点とトレードオフを理解
2. **データフロー近傍要件**: タイル間のデータ移動パターンを分析
3. **畳み込み演算の次元計算**: 入力/出力サイズと中間テンソルの計算

## 設計上の考慮事項

大規模設計では、以下の要素が重要です：

- **マルチコアスケーリング**: 複数のAIEタイルにわたる作業の分散
- **メモリ階層**: L1、L2、L3メモリの効率的な使用
- **データフローパターン**: パイプライン化と並列実行
- **通信最適化**: タイル間データ転送の最小化

---

**注意**: 各設計例の完全なソースコードと詳細な実装については、[公式ドキュメント](https://github.com/Xilinx/mlir-aie/tree/v1.1.1/programming_guide/section-6)を参照してください。

-----

[[前へ - Section 5](../section-5/README.md)] [[トップ](../README.md)]
